apply plugin: 'java'
apply plugin: 'application'

defaultTasks 'distTar'

repositories {
    mavenCentral()
}

distTar { 
	// to get .tar.gz instead of .tgz		
     archiveExtension = "tar.gz" 
     compression = Compression.GZIP 
} 


java {
    ext.javaVersion = project.hasProperty('javaVersion') ? project.getProperty('javaVersion') : '21'
    sourceCompatibility = javaVersion
    targetCompatibility = javaVersion
}

application {
    mainClass = "fi.csc.chipster.jettylargefile.JettyLargeFileServer"
}
  
run {
    standardInput = System.in
}

dependencies {

    implementation "org.apache.logging.log4j:log4j-api:2.+"
    implementation "org.apache.logging.log4j:log4j-core:2.+"
    implementation "org.apache.logging.log4j:log4j-slf4j2-impl:2.+"
    
    implementation "org.eclipse.jetty.ee10:jetty-ee10-servlet:12.0.12"
    implementation "org.eclipse.jetty:jetty-server:12.0.12"    
        
    implementation "commons-io:commons-io:+"
}
